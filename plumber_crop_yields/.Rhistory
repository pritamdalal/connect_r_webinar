plumber::plumb(file='plumber_crop_yields.R')$run()
plumb(file='plumber_crop_yields.R')$run()
library(tidyverse)
library(pins)
knitr::opts_chunk$set(echo = TRUE, paged.print = FALSE)
df <- read_csv("crop_yields.csv", show_col_types = FALSE)
df <- df %>% filter(product == "soybeans") %>% drop_na()
df
board <- board_connect(auth = "envvar")
board <- board_rsconnect(auth = "envvar")
board <- board_rsconnect(auth = "envvar")
board %>% pin_write(df, "soybean_yields_pin", type= "csv")
library(tidyverse)
library(pins)
knitr::opts_chunk$set(echo = TRUE, paged.print = FALSE)
df <- read_csv("crop_yields.csv", show_col_types = FALSE)
df <- df %>% filter(product == "soybeans") %>% drop_na()
df
board <- board_rsconnect(auth = "envvar")
board %>% pin_write(df, "soybean_yields_pin", type= "csv")
library(tidyverse)
library(pins)
knitr::opts_chunk$set(echo = TRUE, paged.print = FALSE)
board <- board_rsconnect(auth = "envvar")
df <- board %>% pin_read("pritam.dalal/soybean_yields_pin") %>% tibble()
df
df %>%
filter(entity == "united states") %>%
ggplot(mapping = aes(x = year, y = crop_yield)) +
geom_line() +
ggtitle("USA Soybean Yields: 1961-2018") +
xlab("year") +
ylab("yield")
